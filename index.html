<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" type="text/css" href="demo.css">
    <script type="text/javascript" src="vendor/knockout-3.4.0.js"></script>

    <script type="text/javascript" src="tokenlist/scripts/tokenlist.js"></script>
    <link rel="stylesheet" type="text/css" href="tokenlist/css/tokenlist.css">
    <link rel="stylesheet" type="text/css" href="tokenlist/css/blue-theme-example.css">


    <script>
      var Thing = function(name) {
        this.name = name;
        this.id = "id_" + Math.round(Math.random() * 1000);
      }

      function ViewModel() {
        this.tokens = ko.observableArray(['basketball', 'football', 'tennis', 'cricket', 'volleyball', 'soccer', 'table tennis']);
        this.things = ko.observableArray(ko.utils.arrayMap(this.tokens(), function(name) { return new Thing(name); }));
        this.tags2SelectedValues = ko.observableArray([this.things()[4].name]);
        this.tags3SelectedValues = ko.observableArray([this.things()[1].id, this.things()[2].id]);
        this.tags = ko.observableArray(['red', 'green', 'blue']);
        this.singleValue = ko.observable(this.things()[1].name);
        this.singleValueId = ko.observable(this.things()[1].id);
      }
    </script>

  </head>

  <body>
    Demo and component by <a href="http://nerdcave.com">Jay Elaraj</a>.
    Follow project on <a href="http://github.com/nerdcave/tokenlist">github</a>.

    <h1>tokenlist component demo for knockout JS</h1>

    <div id="container">

      <form action="submit.html">
        <div class="field">
          Single select with search:
          <ul>
            <li>Click to make a selection.</li>
            <li>Submits as a single string value.</li>
          </ul>
          <tokenlist params="name: 'single_select', isSingle: true, tokens: tokens, value: singleValue"></tokenlist>
          <button type="submit">Submit</button>
        </div>
      </form>

      <form action="submit.html">
        <div class="field">
          Single select with objects and deselect:
          <ul>
            <li>Click to make a selection.</li>
            <li>Click the <b>&times;</b> to delete selection.</li>
            <li>Submits as the selected object's id value.</li>
          </ul>
          <tokenlist params="name: 'single_select', isSingle: true, tokens: things, textField: 'name', valueField: 'id', value: singleValueId, allowClear: true, placeholder: 'Select one...'"></tokenlist>
          <button type="submit">Submit</button>
        </div>
      </form>

      <form action="submit.html">
        <div class="field">
          Simple tags:
          <ul>
            <li>Type something then press <b>enter</b>, <b>tab</b>, or <b>comma</b> to add it.
            <li>Press <b>backspace</b> or click the <b>&times;</b> to delete a tag.</li>
            <li>Submits tags as multiple values by default.</li>
          </ul>
          <tokenlist params="name: 'tags[]', placeholder: 'type something!'"></tokenlist>
          <button type="submit">Submit</button>
        </div>
      </form>

      <form action="submit.html">
        <div class="field">
          Tags as a string:
          <ul>
            <li>Type something then press <b>enter</b>, <b>tab</b>, or <b>comma</b> to add it.
            <li>Press <b>backspace</b> or click the <b>&times;</b> to delete a tag.</li>
            <li>Submits tags as a comma-separated string.</li>
          </ul>
          <tokenlist params="name: 'tags1', selectedValues: tags, useStringInput: true"></tokenlist>
          <button type="submit">Submit</button>
        </div>
      </form>

      <form action="submit.html">
        <div class="field">
          Tokens as plain strings and disallow new entries:
          <ul>
            <li>Plain string tokens (see source).</li>
            <li>For autocomplete filtering, type <b>ball</b>, for example.</li>
            <li>Press <b>enter</b> to select an autocomplete item.</li>
            <li>Press <b>up</b> or <b>escape</b> to close autocomplete. Press <b>down</b> to open autocomplete.</li>
            <li>Type <b>no</b> and observe adding new entries is disabled with param <b>allowNew: false</b>.</li>
          </ul>
          <tokenlist params="name: 'tags2[]', tokens: tokens, allowNew: false, selectedValues: tags2SelectedValues"></tokenlist>
          <button type="submit">Submit</button>
        </div>
      </form>

      <form action="submit.html">
        <div class="field">
          Full features and tokens as objects:
          <ul>
            <li>Tokens are JavaScript objects (see source).</li>
            <li>New entries allowed - type something then press <b>enter</b>, <b>tab</b>, or <b>comma</b> to add it.</li>
            <li>New entry values formatted with <b>newValueFormat</b> option. Add new entries and press Submit to see results.</li>
          </ul>
          <tokenlist params="name: 'tags3[]', tokens: things, textField: 'name', valueField: 'id', selectedValues: tags3SelectedValues, newValueFormat: '[[[%value%]]]'"></tokenlist>
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>

    <script>
      ko.applyBindings(new ViewModel());
    </script>

  </body>

</html>